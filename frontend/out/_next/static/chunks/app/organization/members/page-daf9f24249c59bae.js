(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5520],{65560:(e,t,r)=>{Promise.resolve().then(r.bind(r,8561))},67401:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(12115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...i,width:n,height:n,stroke:r,strokeWidth:o?24*Number(l)/Number(n):l,className:s("lucide",d),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:o,...d}=r;return(0,a.createElement)(l,{ref:i,iconNode:t,className:s("lucide-".concat(n(e)),o),...d})});return r.displayName="".concat(e),r}},98867:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},40767:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8561:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var a=r(95155),n=r(12115),s=r(39569),i=r(22130),l=r(73312),o=r(33900),d=r(98986),c=r(25121),u=r(62884),m=r(37528),f=r(8315),p=r(83212),x=r(51344),g=r(65564),h=r(87248),v=r(11712);let b=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t||"w-5 h-5",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z",clipRule:"evenodd"})})},j=e=>{let{className:t}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t||"w-5 h-5",children:[(0,a.jsx)("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),(0,a.jsx)("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"})]})},y=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t||"w-4 h-4",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})})},w=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t||"w-4 h-4",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"})})},N=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t||"w-4 h-4",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})})},_=e=>{let{className:t}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t||"w-4 h-4",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"})})};function C(){let{organization:e,orgLoading:t}=(0,s.rq)(),{canManageMembers:r,canInviteUsers:C,isOwner:E}=(0,s.Xn)(),{toast:R}=(0,g.dj)(),[A,S]=(0,n.useState)([]),[z,D]=(0,n.useState)([]),[k,M]=(0,n.useState)(!1),[T,O]=(0,n.useState)(""),[Z,L]=(0,n.useState)("all"),[U,I]=(0,n.useState)(""),[V,P]=(0,n.useState)("user"),[F,B]=(0,n.useState)(!1),[X,$]=(0,n.useState)(!1),[W,Y]=(0,n.useState)(null),[q,J]=(0,n.useState)(""),[G,H]=(0,n.useState)(!1),[Q,K]=(0,n.useState)(!1),[ee,et]=(0,n.useState)(!1),[er,ea]=(0,n.useState)(!1);(0,n.useEffect)(()=>{e&&(en(),es())},[e]);let en=async()=>{M(!0);try{if(!e)return;let{data:t,error:r}=await v.ND.from("users").select("id, email, first_name, last_name, organization_id, role_in_org, is_org_admin, joined_at").eq("organization_id",e.id);if(r)throw r;let a=(t||[]).map(e=>({id:e.id,user_id:e.id,organization_id:e.organization_id,role:e.role_in_org?e.role_in_org.toLowerCase():"user",status:"active",joined_at:e.joined_at,user:{id:e.id,email:e.email,full_name:[e.first_name,e.last_name].filter(Boolean).join(" ")||e.email,avatar_url:void 0}}));S(a)}catch(e){R({title:"Error",description:"Failed to load members.",variant:"destructive"})}finally{M(!1)}},es=async()=>{try{D([])}catch(e){R({title:"Error",description:"Failed to load invitations.",variant:"destructive"})}},ei=async()=>{if(U&&V&&e){B(!0);try{let{data:r}=await v.ND.from("users").select("id").eq("email",U).single();if(r){var t;let{error:a}=await v.ND.rpc("add_user_to_organization",{p_user_id:r.id,p_organization_id:e.id,p_added_by:null===(t=(await v.ND.auth.getUser()).data.user)||void 0===t?void 0:t.id,p_role_in_org:V.toUpperCase()});if(a)throw a;R({title:"User added",description:"User with email ".concat(U," has been added to the organization.")})}else R({title:"Invitation would be sent",description:"In a full implementation, an invitation email would be sent to ".concat(U)});I(""),P("user"),$(!1),en()}catch(e){console.error("Error sending invitation:",e),R({title:"Error",description:"Failed to send invitation. Please try again.",variant:"destructive"})}finally{B(!1)}}},el=async()=>{if(W&&q&&e){H(!0);try{let{data:{user:t}}=await v.ND.auth.getUser();if(!t)throw Error("User not authenticated");let{error:r}=await v.ND.rpc("update_member_role_in_organization",{p_user_id:W.user_id,p_organization_id:e.id,p_new_role:q.toUpperCase(),p_updated_by:t.id});if(r)throw r;S(e=>e.map(e=>e.id===W.id?{...e,role:q}:e)),R({title:"Role updated",description:"".concat(W.user.full_name,"'s role has been updated to ").concat(q,".")}),Y(null),J(""),K(!1)}catch(e){console.error("Role update error:",e),R({title:"Error",description:e.message||"Failed to update role. Please try again.",variant:"destructive"})}finally{H(!1)}}},eo=async()=>{if(W&&e){ea(!0);try{var t;let{error:r}=await v.ND.rpc("remove_user_from_organization",{p_user_id:W.user_id,p_organization_id:e.id,p_removed_by:null===(t=(await v.ND.auth.getUser()).data.user)||void 0===t?void 0:t.id});if(r)throw r;S(e=>e.filter(e=>e.id!==W.id)),R({title:"Member removed",description:"".concat(W.user.full_name," has been removed from the organization.")}),Y(null),et(!1)}catch(e){console.error("Error removing member:",e),R({title:"Error",description:"Failed to remove member. Please try again.",variant:"destructive"})}finally{ea(!1)}}},ed=async e=>{try{await new Promise(e=>setTimeout(e,1e3)),R({title:"Invitation resent",description:"Invitation resent to ".concat(e.email)})}catch(e){R({title:"Error",description:"Failed to resend invitation. Please try again.",variant:"destructive"})}},ec=async e=>{try{await new Promise(e=>setTimeout(e,1e3)),D(t=>t.filter(t=>t.id!==e.id)),R({title:"Invitation cancelled",description:"Invitation to ".concat(e.email," has been cancelled.")})}catch(e){R({title:"Error",description:"Failed to cancel invitation. Please try again.",variant:"destructive"})}},eu=A.filter(e=>{let t=e.user.full_name.toLowerCase().includes(T.toLowerCase())||e.user.email.toLowerCase().includes(T.toLowerCase()),r="all"===Z||e.role===Z;return t&&r}),em=e=>{switch(e){case"owner":return"default";case"admin":return"secondary";default:return"outline"}},ef=e=>{switch(e){case"active":return"default";case"pending":return"secondary";case"inactive":return"destructive";default:return"outline"}};return t||k?(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,a.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded"},t))})]})}):e?r?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)(h.P.div,{className:"mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:(0,a.jsx)(p.Q_,{className:"inter-var mb-8",children:(0,a.jsx)(p.bw,{className:"bg-white relative group/card border border-gray-200 w-full h-auto rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)(p.oV,{translateZ:"60",className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-50 rounded-2xl flex items-center justify-center",children:(0,a.jsx)(b,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(p.oV,{translateZ:"50",className:"text-3xl font-bold text-gray-900 mb-2",children:"Organization Members"}),(0,a.jsx)(p.oV,{translateZ:"40",className:"text-gray-600 max-w-md",children:"Manage your organization's members, roles, and invitations"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[C&&(0,a.jsx)(p.oV,{translateZ:"40",children:(0,a.jsxs)(f.z,{onClick:()=>$(!0),variant:"primary",className:"flex items-center gap-2",children:[(0,a.jsx)(y,{className:"w-4 h-4"}),"Invite User"]})}),(0,a.jsx)(p.oV,{translateZ:"30",children:(0,a.jsx)(f.z,{href:"/organization/dashboard",variant:"outline",className:"flex items-center gap-2",children:"← Back to Dashboard"})})]})]})})})}),(0,a.jsxs)(u.tU,{defaultValue:"members",className:"w-full",children:[(0,a.jsxs)(u.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsxs)(u.Xi,{value:"members",children:["Members (",A.length,")"]}),(0,a.jsxs)(u.Xi,{value:"invitations",children:["Invitations (",z.length,")"]})]}),(0,a.jsx)(u.av,{value:"members",className:"mt-6",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Organization Members"}),(0,a.jsx)(i.BT,{children:"Manage your organization's members and their roles."})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(o.p,{placeholder:"Search members...",value:T,onChange:e=>O(e.target.value)})}),(0,a.jsxs)(m.l6,{value:Z,onValueChange:L,children:[(0,a.jsx)(m.bq,{className:"w-full sm:w-48",children:(0,a.jsx)(m.yv,{placeholder:"Filter by role"})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"all",children:"All Roles"}),(0,a.jsx)(m.eb,{value:"owner",children:"Owner"}),(0,a.jsx)(m.eb,{value:"admin",children:"Admin"}),(0,a.jsx)(m.eb,{value:"user",children:"User"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[eu.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:e.user.avatar_url?(0,a.jsx)("img",{src:e.user.avatar_url,alt:e.user.full_name,className:"w-10 h-10 rounded-full object-cover"}):(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.user.full_name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.user.full_name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.user.email}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(c.E,{variant:em(e.role),children:e.role.charAt(0).toUpperCase()+e.role.slice(1)}),(0,a.jsx)(c.E,{variant:ef(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Joined ",new Date(e.joined_at).toLocaleDateString()]}),r&&"owner"!==e.role&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>{Y(e),J(e.role),K(!0)},children:"Change Role"}),E&&(0,a.jsx)(l.$,{variant:"destructive",size:"sm",onClick:()=>{Y(e),et(!0)},children:(0,a.jsx)(w,{className:"h-4 w-4"})})]})]})]},e.id)),0===eu.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"mx-auto mb-4",style:{width:48,height:48},children:(0,a.jsx)(b,{})}),(0,a.jsx)("p",{className:"text-gray-600",children:T||"all"!==Z?"No members found matching your criteria.":"No members found in this organization."})]})]})]})]})}),(0,a.jsx)(u.av,{value:"invitations",className:"mt-6",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Pending Invitations"}),(0,a.jsx)(i.BT,{children:"Manage invitations sent to potential organization members."})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[z.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)(j,{})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Invited by ",e.invited_by," • ",e.role," role"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(c.E,{variant:ef(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[(0,a.jsx)(_,{}),"Expires ",new Date(e.expires_at).toLocaleDateString()]})]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:"pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>ed(e),children:"Resend"}),(0,a.jsx)(l.$,{variant:"destructive",size:"sm",onClick:()=>ec(e),children:"Cancel"})]})})]},e.id)),0===z.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"mx-auto mb-4",style:{width:48,height:48},children:(0,a.jsx)(j,{})}),(0,a.jsx)("p",{className:"text-gray-600",children:"No pending invitations."})]})]})})]})})]}),(0,a.jsx)(x.lG,{open:X,onOpenChange:$,children:(0,a.jsxs)(x.Cf,{children:[(0,a.jsxs)(x.c7,{children:[(0,a.jsx)(x.L3,{children:"Invite New Member"}),(0,a.jsx)(x.rr,{children:"Send an invitation to join your organization."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"inviteEmail",children:"Email Address"}),(0,a.jsx)(o.p,{id:"inviteEmail",type:"email",value:U,onChange:e=>I(e.target.value),placeholder:"user@example.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"inviteRole",children:"Role"}),(0,a.jsxs)(m.l6,{value:V,onValueChange:e=>P(e),children:[(0,a.jsx)(m.bq,{children:(0,a.jsx)(m.yv,{})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"user",children:"User"}),(0,a.jsx)(m.eb,{value:"admin",children:"Admin"})]})]})]})]}),(0,a.jsxs)(x.Es,{children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),(0,a.jsx)(l.$,{onClick:ei,disabled:F||!U,children:F?"Sending...":"Send Invitation"})]})]})}),(0,a.jsx)(x.lG,{open:Q,onOpenChange:K,children:(0,a.jsxs)(x.Cf,{children:[(0,a.jsxs)(x.c7,{children:[(0,a.jsx)(x.L3,{children:"Change Member Role"}),(0,a.jsxs)(x.rr,{children:["Update ",null==W?void 0:W.user.full_name,"'s role in the organization."]})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"newRole",children:"New Role"}),(0,a.jsxs)(m.l6,{value:q,onValueChange:J,children:[(0,a.jsx)(m.bq,{children:(0,a.jsx)(m.yv,{placeholder:"Select a role"})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"user",children:"User"}),(0,a.jsx)(m.eb,{value:"admin",children:"Admin"})]})]})]})}),(0,a.jsxs)(x.Es,{children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>K(!1),children:"Cancel"}),(0,a.jsx)(l.$,{onClick:el,disabled:G||!q,children:G?"Updating...":"Update Role"})]})]})}),(0,a.jsx)(x.lG,{open:ee,onOpenChange:et,children:(0,a.jsxs)(x.Cf,{children:[(0,a.jsxs)(x.c7,{children:[(0,a.jsx)(x.L3,{children:"Remove Member"}),(0,a.jsxs)(x.rr,{children:["Are you sure you want to remove ",null==W?void 0:W.user.full_name," from the organization? This action cannot be undone."]})]}),(0,a.jsxs)(x.Es,{children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>et(!1),children:"Cancel"}),(0,a.jsx)(l.$,{variant:"destructive",onClick:eo,disabled:er,children:er?"Removing...":"Remove Member"})]})]})})]})}):(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)(i.Zp,{children:(0,a.jsxs)(i.Wu,{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"mx-auto mb-4",style:{width:48,height:48},children:(0,a.jsx)(N,{})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage organization members."}),(0,a.jsx)(f.z,{href:"/organization/dashboard",variant:"outline",children:"Back to Dashboard"})]})})}):(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)(i.Zp,{children:(0,a.jsxs)(i.Wu,{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"mx-auto mb-4",style:{width:48,height:48},children:(0,a.jsx)(b,{})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Organization Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to be part of an organization to access member management."}),(0,a.jsx)(f.z,{href:"/create-organization",variant:"primary",children:"Create Organization"})]})})})}},83212:(e,t,r)=>{"use strict";r.d(t,{Q_:()=>l,bw:()=>o,oV:()=>d});var a=r(95155),n=r(21567),s=r(12115);let i=(0,s.createContext)(void 0),l=e=>{let{children:t,className:r,containerClassName:l}=e,o=(0,s.useRef)(null),[d,c]=(0,s.useState)(!1);return(0,a.jsx)(i.Provider,{value:[d,c],children:(0,a.jsx)("div",{className:(0,n.cn)("py-20 flex items-center justify-center",l),style:{perspective:"1000px"},children:(0,a.jsx)("div",{ref:o,onMouseEnter:e=>{if(c(!0),!o.current)return},onMouseMove:e=>{if(!o.current)return;let{left:t,top:r,width:a,height:n}=o.current.getBoundingClientRect(),s=(e.clientX-t-a/2)/25,i=(e.clientY-r-n/2)/25;o.current.style.transform="rotateY(".concat(s,"deg) rotateX(").concat(i,"deg)")},onMouseLeave:e=>{o.current&&(c(!1),o.current.style.transform="rotateY(0deg) rotateX(0deg)")},className:(0,n.cn)("flex items-center justify-center relative transition-all duration-200 ease-linear",r),style:{transformStyle:"preserve-3d"},children:t})})})},o=e=>{let{children:t,className:r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("h-96 w-96 [transform-style:preserve-3d]  [&>*]:[transform-style:preserve-3d]",r),children:t})},d=e=>{let{as:t="div",children:r,className:i,translateX:l=0,translateY:o=0,translateZ:d=0,rotateX:u=0,rotateY:m=0,rotateZ:f=0,...p}=e,x=(0,s.useRef)(null),[g]=c();(0,s.useEffect)(()=>{h()},[g]);let h=()=>{x.current&&(g?x.current.style.transform="translateX(".concat(l,"px) translateY(").concat(o,"px) translateZ(").concat(d,"px) rotateX(").concat(u,"deg) rotateY(").concat(m,"deg) rotateZ(").concat(f,"deg)"):x.current.style.transform="translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)")};return(0,a.jsx)(t,{ref:x,className:(0,n.cn)("w-fit transition duration-200 ease-linear",i),...p,children:r})},c=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useMouseEnter must be used within a MouseEnterProvider");return e}},25121:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var a=r(95155);r(12115);var n=r(31027),s=r(21567);let i=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...n})}},73312:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(95155),n=r(12115),s=r(12317),i=r(31027),l=r(21567);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:r})),ref:t,...c})});d.displayName="Button"},22130:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l,wL:()=>u});var a=r(95155),n=r(12115),s=r(21567);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},51344:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>m,Es:()=>p,L3:()=>x,c7:()=>f,lG:()=>o,rr:()=>g,zM:()=>d});var a=r(95155),n=r(12115),s=r(84290),i=r(40767),l=r(21567);let o=s.bL,d=s.l9,c=e=>{let{className:t,...r}=e;return(0,a.jsx)(s.ZL,{...r,children:(0,a.jsx)("div",{className:(0,l.cn)(t),children:r.children})})};c.displayName=s.ZL.displayName;let u=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n})});u.displayName=s.hJ.displayName;let m=(0,n.forwardRef)((e,t)=>{let{className:r,children:n,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(s.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",r),...o,children:[n,(0,a.jsxs)(s.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=s.UC.displayName;let f=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};f.displayName="DialogHeader";let p=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};p.displayName="DialogFooter";let x=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",r),...n})});x.displayName=s.hE.displayName;let g=(0,n.forwardRef)((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...n})});g.displayName=s.VY.displayName},8315:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var a=r(95155),n=r(12115),s=r(87248),i=r(21567);function l(e){let{children:t,containerClassName:r,className:l,as:o="button",duration:d=1,clockwise:c=!0,shineColor:u="#6CDAEC",...m}=e,[f,p]=(0,n.useState)(!1),[x,g]=(0,n.useState)("TOP"),h=e=>{let t=["TOP","LEFT","BOTTOM","RIGHT"],r=t.indexOf(e),a=c?(r-1+t.length)%t.length:(r+1)%t.length;return t[a]},v={TOP:"radial-gradient(25% 60% at 50% 0%, ".concat("#6CDAEC"===u?"hsl(0, 0%, 100%)":"rgba(128, 128, 128, 0.8)"," 0%, ").concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.6)":"rgba(128, 128, 128, 0.4)"," 50%, rgba(255, 255, 255, 0) 100%)"),LEFT:"radial-gradient(20% 50% at 0% 50%, ".concat("#6CDAEC"===u?"hsl(0, 0%, 100%)":"rgba(128, 128, 128, 0.8)"," 0%, ").concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.6)":"rgba(128, 128, 128, 0.4)"," 50%, rgba(255, 255, 255, 0) 100%)"),BOTTOM:"radial-gradient(25% 60% at 50% 100%, ".concat("#6CDAEC"===u?"hsl(0, 0%, 100%)":"rgba(128, 128, 128, 0.8)"," 0%, ").concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.6)":"rgba(128, 128, 128, 0.4)"," 50%, rgba(255, 255, 255, 0) 100%)"),RIGHT:"radial-gradient(20% 50% at 100% 50%, ".concat("#6CDAEC"===u?"hsl(0, 0%, 100%)":"rgba(128, 128, 128, 0.8)"," 0%, ").concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.6)":"rgba(128, 128, 128, 0.4)"," 50%, rgba(255, 255, 255, 0) 100%)")};return(0,n.useEffect)(()=>{if(!f){let e=setInterval(()=>{g(e=>h(e))},1e3*d);return()=>clearInterval(e)}},[f]),(0,a.jsxs)(o,{onMouseEnter:e=>{p(!0)},onMouseLeave:()=>p(!1),className:(0,i.cn)("relative flex rounded-lg border-0 content-center bg-transparent transition duration-500 items-center flex-col flex-nowrap gap-10 h-min justify-center overflow-visible p-[1px] decoration-clone w-fit shadow-[0_4px_12px_rgba(0,0,0,0.15)] hover:shadow-[0_8px_25px_rgba(0,0,0,0.2)] transition-shadow duration-300 m-2 group",r),...m,children:[(0,a.jsx)("div",{className:(0,i.cn)("w-auto z-10 px-4 py-2 rounded-[inherit] relative shadow-inner group-hover:shadow-[inset_0_1px_3px_rgba(108,218,236,0.3)]",l),children:t}),(0,a.jsx)(s.P.div,{className:(0,i.cn)("flex-none inset-0 overflow-hidden absolute z-0 rounded-[inherit]"),style:{filter:"blur(0.5px)",position:"absolute",width:"100%",height:"100%"},initial:{background:v[x]},animate:{background:f?[v[x],"radial-gradient(75% 181.15942028985506% at 50% 50%, ".concat(u," 0%, rgba(255, 255, 255, 0.8) 30%, rgba(255, 255, 255, 0) 100%)")]:v[x]},transition:{ease:"linear",duration:null!=d?d:1}}),(0,a.jsx)(s.P.div,{className:(0,i.cn)("flex-none inset-0 overflow-hidden absolute z-0 rounded-[inherit]"),style:{filter:"blur(0.3px)",position:"absolute",width:"100%",height:"100%"},initial:{background:"radial-gradient(15% 40% at 50% 50%, ".concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.9)":"rgba(128, 128, 128, 0.7)"," 0%, rgba(255, 255, 255, 0) 100%)")},animate:{background:f?["radial-gradient(15% 40% at 50% 50%, ".concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.9)":"rgba(128, 128, 128, 0.7)"," 0%, rgba(255, 255, 255, 0) 100%)"),"radial-gradient(15% 40% at 80% 20%, ".concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.9)":"rgba(128, 128, 128, 0.7)"," 0%, rgba(255, 255, 255, 0) 100%)"),"radial-gradient(15% 40% at 20% 80%, ".concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.9)":"rgba(128, 128, 128, 0.7)"," 0%, rgba(255, 255, 255, 0) 100%)"),"radial-gradient(15% 40% at 50% 50%, ".concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.9)":"rgba(128, 128, 128, 0.7)"," 0%, rgba(255, 255, 255, 0) 100%)")]:"radial-gradient(15% 40% at 50% 50%, ".concat("#6CDAEC"===u?"rgba(255, 255, 255, 0.9)":"rgba(128, 128, 128, 0.7)"," 0%, rgba(255, 255, 255, 0) 100%)")},transition:{ease:"linear",duration:(null!=d?d:1)*.8}})]})}function o(e){let{children:t,className:r,containerClassName:n,onClick:s,href:o,size:d="md",variant:c="primary",shineColor:u}=e,m=(0,a.jsx)(l,{containerClassName:(0,i.cn)("rounded-lg",n),as:"button",className:(0,i.cn)("flex items-center justify-center font-medium transition-all duration-150",{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[d],{primary:"bg-primary text-white",secondary:"bg-secondary text-secondary-foreground",outline:"bg-white text-blue-600",cta:"bg-primary text-white"}[c],r),onClick:s,duration:.6,shineColor:u,children:t});return o?(0,a.jsx)("a",{href:o,className:"inline-block",children:m}):m}},33900:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(95155),n=r(12115),s=r(21567);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},98986:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var a=r(95155),n=r(12115),s=r(39402),i=r(31027),l=r(21567);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.b,{ref:t,className:(0,l.cn)(o(),r),...n})});d.displayName=s.b.displayName},37528:(e,t,r)=>{"use strict";r.d(t,{bq:()=>u,eb:()=>f,gC:()=>m,l6:()=>d,yv:()=>c});var a=r(95155),n=r(12115),s=r(64605),i=r(51719),l=r(98867),o=r(21567);let d=s.bL;s.YJ;let c=s.WT,u=n.forwardRef((e,t)=>{let{className:r,children:n,...l}=e;return(0,a.jsxs)(s.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...l,children:[n,(0,a.jsx)(s.In,{asChild:!0,children:(0,a.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=s.l9.displayName;let m=n.forwardRef((e,t)=>{let{className:r,children:n,position:i="popper",...l}=e;return(0,a.jsx)(s.ZL,{children:(0,a.jsx)(s.UC,{ref:t,className:(0,o.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80","popper"===i&&"translate-y-1",r),position:i,...l,children:(0,a.jsx)(s.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n})})})});m.displayName=s.UC.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...n})}).displayName=s.JU.displayName;let f=n.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return(0,a.jsxs)(s.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),(0,a.jsx)(s.p4,{children:n})]})});f.displayName=s.q7.displayName,n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...n})}).displayName=s.wv.displayName},62884:(e,t,r)=>{"use strict";r.d(t,{Xi:()=>d,av:()=>c,j7:()=>o,tU:()=>l});var a=r(95155),n=r(12115),s=r(9579),i=r(21567);let l=s.bL,o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.B8,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...n})});o.displayName=s.B8.displayName;let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...n})});d.displayName=s.l9.displayName;let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...n})});c.displayName=s.UC.displayName},65564:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var a=r(12115);let n=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},39569:(e,t,r)=>{"use strict";r.d(t,{Tx:()=>o,Xn:()=>l,rq:()=>i});var a=r(12115),n=r(17146),s=r(47767);let i=()=>{let{user:e,isLoading:t}=(0,n.A)(),{loadOrganization:r,loadOrganizationById:i,organization:l,isLoading:o,error:d,updateOrganization:c}=(0,s.Z)();return(0,a.useEffect)(()=>{!t&&(null==e?void 0:e.organization_id)&&!l?(console.log("Loading organization directly by ID:",e.organization_id),i(e.organization_id)):t||null==e||!e.id||(null==e?void 0:e.organization_id)||l||(console.log("Loading organization via user lookup for user:",e.id),r(e.id))},[null==e?void 0:e.id,null==e?void 0:e.organization_id,t,l,r,i]),{organization:l,orgLoading:t||o,error:d,hasOrganization:!!l,isOrganizationOwner:(null==l?void 0:l.created_by)===(null==e?void 0:e.id),isOrganizationAdmin:(null==e?void 0:e.is_org_admin)||!1,userRoleInOrg:(null==e?void 0:e.role_in_org)||"USER",updateOrganization:c}},l=()=>{let{user:e,isLoading:t}=(0,n.A)(),{organization:r,isLoading:a}=(0,s.Z)(),i=(null==r?void 0:r.created_by)===(null==e?void 0:e.id),l=(null==e?void 0:e.is_org_admin)||!1,o=(null==e?void 0:e.role_in_org)==="USER",d=!!r;return{isOwner:i,isAdmin:l,isUser:o,hasOrganization:d,isLoadingPermissions:t||a,canManageMembers:i||l,canManageEventSpaces:i||l,canManageOrganization:i,canCreateEvents:d,canInviteUsers:i||l,canRemoveUsers:i,canUpdateUserRoles:i}},o=()=>{let{organization:e}=(0,s.Z)();if(!e)return{plan:"FREE",status:"ACTIVE",isActive:!0,isSuspended:!1,isCancelled:!1,isExpired:!1,canUpgrade:!1,canDowngrade:!1,daysUntilExpiry:null};let t="ACTIVE"===e.subscription_status,r="SUSPENDED"===e.subscription_status,a="CANCELLED"===e.subscription_status,n="EXPIRED"===e.subscription_status,i="ENTERPRISE"!==e.subscription_plan,l="FREE"!==e.subscription_plan,o=null;if(e.subscription_end_date){let t=new Date(e.subscription_end_date),r=new Date;o=Math.ceil((t.getTime()-r.getTime())/864e5)}return{plan:e.subscription_plan,status:e.subscription_status,isActive:t,isSuspended:r,isCancelled:a,isExpired:n,canUpgrade:i,canDowngrade:l,daysUntilExpiry:o}}},88068:(e,t,r)=>{"use strict";r.d(t,{s:()=>i,t:()=>s});var a=r(12115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,a=e.map(e=>{let a=n(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():n(e[t],null)}}}}function i(...e){return a.useCallback(s(...e),e)}},39402:(e,t,r)=>{"use strict";r.d(t,{b:()=>c});var a=r(12115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}r(47650);var s=r(95155),i=Symbol("radix.slottable");function l(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){let e,i;let l=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,o=function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(o.ref=t?function(...e){return t=>{let r=!1,a=e.map(e=>{let a=n(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():n(e[t],null)}}}}(t,l):l),a.cloneElement(r,o)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...i}=e,o=a.Children.toArray(n),d=o.find(l);if(d){let e=d.props.children,n=o.map(t=>t!==d?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,s.jsx)(t,{...i,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),i=a.forwardRef((e,a)=>{let{asChild:n,...i}=e,l=n?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(l,{...i,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),d=a.forwardRef((e,t)=>(0,s.jsx)(o.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));d.displayName="Label";var c=d},12317:(e,t,r)=>{"use strict";r.d(t,{DX:()=>i});var a=r(12115),n=r(88068),s=r(95155),i=a.forwardRef((e,t)=>{let{children:r,...n}=e,i=a.Children.toArray(r),o=i.find(d);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(l,{...n,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,s.jsx)(l,{...n,ref:t,children:r})});i.displayName="Slot";var l=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r);return a.cloneElement(r,{...function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{s(...e),n(...e)}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props),ref:t?(0,n.t)(t,e):e})}return a.Children.count(r)>1?a.Children.only(null):null});l.displayName="SlotClone";var o=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function d(e){return a.isValidElement(e)&&e.type===o}}},e=>{var t=t=>e(e.s=t);e.O(0,[1181,6232,3081,8472,5775,4290,9579,4934,8441,1517,7358],()=>t(65560)),_N_E=e.O()}]);