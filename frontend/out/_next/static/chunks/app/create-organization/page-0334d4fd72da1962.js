(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1877],{57592:(e,r,t)=>{Promise.resolve().then(t.bind(t,61338))},76046:(e,r,t)=>{"use strict";var n=t(66658);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},61338:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var n=t(95155),a=t(12115),s=t(22130),i=t(33900),l=t(73312),o=t(98986),d=t(67427),c=t(76046),u=t(11712);let m=[{name:"Free",value:"FREE",description:"Basic features for small teams and testing.",price:"$0/mo",features:["Up to 10 events","Up to 5 users","100MB storage"]},{name:"Basic",value:"BASIC",description:"For growing organizations.",price:"$19.99/mo",features:["Up to 50 events","Up to 20 users","500MB storage","Custom branding"]},{name:"Pro",value:"PRO",description:"Advanced features for professionals.",price:"$49.99/mo",features:["Up to 200 events","Up to 100 users","2GB storage","Advanced analytics"]},{name:"Enterprise",value:"ENTERPRISE",description:"For large organizations with custom needs.",price:"Contact us",features:["1000+ events","500+ users","10GB+ storage","Dedicated support"]}];function p(){var e;let[r,t]=(0,a.useState)(1),[p,f]=(0,a.useState)({name:"",slug:"",description:"",plan:"FREE"}),[g,x]=(0,a.useState)(!1),[h,v]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),j=(0,c.useRouter)(),N=e=>{f({...p,[e.target.name]:e.target.value})},w=e=>{f({...p,plan:e})},C=async e=>{e.preventDefault(),x(!0),v(null);try{let{data:{user:e},error:r}=await u.ND.auth.getUser();if(r||!e)throw Error("You must be logged in to create an organization");if(!p.name||!p.slug)throw Error("Name and slug are required");let{data:t,error:n}=await u.ND.rpc("create_organization",{p_name:p.name,p_slug:p.slug,p_created_by:e.id,p_description:p.description||"",p_subscription_plan:p.plan||"FREE"});if(n)throw console.error("Error creating organization:",n),Error(n.message);let{error:a}=await u.ND.from("users").update({organization_id:t,role_in_org:"OWNER",is_org_admin:!0,joined_at:new Date().toISOString()}).eq("id",e.id);if(a)throw console.error("Error updating user organization:",a),Error("Organization created but user update failed");y(!0),setTimeout(()=>{j.push("/organization/dashboard")},1200)}catch(e){console.error("Organization creation error:",e),v(e instanceof Error?e.message:"Failed to create organization. Please try again.")}finally{x(!1)}};return(0,n.jsx)("div",{className:"min-h-screen flex flex-col bg-white",children:(0,n.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8 flex flex-col items-center justify-center",children:(0,n.jsxs)("div",{className:"w-full max-w-2xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Create a New Organization"}),(0,n.jsxs)(s.Zp,{className:"shadow-sm border border-gray-200",children:[(0,n.jsx)(s.aR,{children:(0,n.jsxs)(s.ZB,{children:[1===r&&"Organization Details",2===r&&"Select a Plan",3===r&&"Confirmation"]})}),(0,n.jsxs)(s.Wu,{children:[h&&(0,n.jsx)("div",{className:"bg-red-50 text-red-600 p-3 rounded-md mb-6 text-center",children:h}),b?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF89"}),(0,n.jsx)("div",{className:"text-xl font-semibold mb-2",children:"Organization Created!"}),(0,n.jsx)("div",{className:"text-gray-600 mb-4",children:"Redirecting to your dashboard..."})]}):(0,n.jsxs)("form",{onSubmit:C,children:[1===r&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"name",children:"Organization Name *"}),(0,n.jsx)(i.p,{id:"name",name:"name",value:p.name,onChange:N,placeholder:"Enter organization name",required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"slug",children:"Organization Slug *"}),(0,n.jsx)(i.p,{id:"slug",name:"slug",value:p.slug,onChange:N,placeholder:"e.g. acme-events",required:!0}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used in your organization's URL."})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"description",children:"Description"}),(0,n.jsx)(i.p,{id:"description",name:"description",value:p.description,onChange:N,placeholder:"Describe your organization (optional)"})]})]}),2===r&&(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.map(e=>(0,n.jsx)("div",{role:"button",tabIndex:0,className:"p-0 bg-transparent border-none text-left",onClick:()=>w(e.value),onKeyDown:r=>{("Enter"===r.key||" "===r.key)&&w(e.value)},style:{cursor:"pointer"},children:(0,n.jsx)(d.Wq,{className:"cursor-pointer border rounded-lg p-4 transition-all ".concat(p.plan===e.value?"border-primary ring-2 ring-primary":"border-gray-200"),shadowColor:"rgba(0,0,0,0.08)",shadowIntensity:.12,hoverScale:1.02,hoverLift:-1,transitionDuration:150,children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"text-lg font-semibold",children:e.name}),(0,n.jsx)("div",{className:"text-primary font-bold",children:e.price})]}),(0,n.jsx)("div",{className:"text-gray-600 text-sm mb-2",children:e.description}),(0,n.jsx)("ul",{className:"text-xs text-gray-500 list-disc pl-5 mb-2",children:e.features.map(e=>(0,n.jsx)("li",{children:e},e))}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(l.$,{type:"button",variant:p.plan===e.value?"default":"outline",size:"sm",onClick:()=>w(e.value),children:p.plan===e.value?"Selected":"Choose"})})]})})},e.value))}),3===r&&(0,n.jsxs)("div",{className:"space-y-6 text-center",children:[(0,n.jsx)("div",{className:"text-lg font-semibold",children:"Review your details"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Name:"})," ",p.name]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Slug:"})," ",p.slug]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Plan:"})," ",null===(e=m.find(e=>e.value===p.plan))||void 0===e?void 0:e.name]}),p.description&&(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Description:"})," ",p.description]})]})]}),(0,n.jsxs)("div",{className:"flex justify-between mt-8",children:[r>1&&(0,n.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>{v(null),t(r-1)},disabled:g,children:"Back"}),(0,n.jsx)("div",{className:"flex-1"}),r<3&&(0,n.jsx)(l.$,{type:"button",onClick:()=>{if(v(null),1===r&&(!p.name||!p.slug)){v("Organization name and slug are required.");return}t(r+1)},disabled:g,children:"Next"}),3===r&&(0,n.jsx)(l.$,{type:"submit",className:"px-8",disabled:g,children:g?"Creating...":"Create Organization"})]})]})]}),(0,n.jsx)(s.wL,{className:"text-center",children:(0,n.jsxs)("p",{className:"text-xs text-gray-400 mx-auto",children:["Already have an organization?"," ",(0,n.jsx)("a",{href:"/organization/dashboard",className:"text-primary underline",children:"Go to Dashboard"})]})})]})]})})})}},73312:(e,r,t)=>{"use strict";t.d(r,{$:()=>d});var n=t(95155),a=t(12115),s=t(12317),i=t(31027),l=t(21567);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:i,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:t})),ref:r,...c})});d.displayName="Button"},22130:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>l,wL:()=>u});var n=t(95155),a=t(12115),s=t(21567);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},67427:(e,r,t)=>{"use strict";t.d(r,{BN:()=>o,Wq:()=>i});var n=t(95155),a=t(12115),s=t(21567);function i(e){let{children:r,className:t,shadowColor:i="rgba(59,130,246,0.25)",shadowIntensity:l=.15,shadowSize:o=40,blurRadius:d=32,spreadRadius:c=0,transitionDuration:u=300,hoverScale:m=1.02,hoverLift:p=-5,disabled:f=!1}=e,[g,x]=(0,a.useState)(!1),h=(0,a.useRef)(null);return(0,n.jsx)("div",{ref:h,className:(0,s.cn)("relative transition-all duration-300 ease-in-out",t),style:g?{boxShadow:"0 ".concat(o,"px ").concat(d,"px ").concat(i,", 0 ").concat(2*o,"px ").concat(2*d,"px rgba(0,0,0,0.15)"),transform:"scale(".concat(m,") translateY(").concat(p,"px)"),transition:"all ".concat(u,"ms ease-in-out")}:{boxShadow:"0 8px ".concat(d,"px ").concat(i.replace("0.25",l.toString()),", 0 16px ").concat(2*d,"px rgba(0,0,0,0.1)"),transform:"scale(1) translateY(0px)",transition:"all ".concat(u,"ms ease-in-out")},onMouseEnter:()=>{f||x(!0)},onMouseLeave:()=>{f||x(!1)},children:r})}let l={blue:{shadowColor:"rgba(59,130,246,0.25)",shadowIntensity:.15},purple:{shadowColor:"rgba(168,85,247,0.25)",shadowIntensity:.15},green:{shadowColor:"rgba(34,197,94,0.25)",shadowIntensity:.15},cyan:{shadowColor:"rgba(6,182,212,0.25)",shadowIntensity:.15},red:{shadowColor:"rgba(239,68,68,0.25)",shadowIntensity:.15},orange:{shadowColor:"rgba(249,115,22,0.25)",shadowIntensity:.15},yellow:{shadowColor:"rgba(234,179,8,0.25)",shadowIntensity:.15},pink:{shadowColor:"rgba(236,72,153,0.25)",shadowIntensity:.15}};function o(e){let{children:r,theme:t="blue",className:a,...o}=e,d=l[t];return(0,n.jsx)(i,{className:(0,s.cn)("bg-white border border-gray-200 rounded-2xl p-6 cursor-pointer",a),shadowColor:d.shadowColor,shadowIntensity:d.shadowIntensity,...o,children:r})}},33900:(e,r,t)=>{"use strict";t.d(r,{p:()=>i});var n=t(95155),a=t(12115),s=t(21567);let i=a.forwardRef((e,r)=>{let{className:t,type:a,...i}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...i})});i.displayName="Input"},98986:(e,r,t)=>{"use strict";t.d(r,{J:()=>d});var n=t(95155),a=t(12115),s=t(39402),i=t(31027),l=t(21567);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.b,{ref:r,className:(0,l.cn)(o(),t),...a})});d.displayName=s.b.displayName},11712:(e,r,t)=>{"use strict";t.d(r,{ND:()=>i});var n=t(96232);let a="https://pcezsgzlomtzbanwbyyj.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBjZXpzZ3psb210emJhbndieXlqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5MDE5MTcsImV4cCI6MjA2ODQ3NzkxN30.TjuBbUmpxmnite9B6Uj0jy-rPGHTyiudf1bnifPzbmc";a&&s||console.warn("Supabase credentials not found. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables.");let i=(0,n.UU)(a,s)},21567:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var n=t(43463),a=t(69795);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,n.$)(r))}},88068:(e,r,t)=>{"use strict";t.d(r,{s:()=>i,t:()=>s});var n=t(12115);function a(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function s(...e){return r=>{let t=!1,n=e.map(e=>{let n=a(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():a(e[r],null)}}}}function i(...e){return n.useCallback(s(...e),e)}},39402:(e,r,t)=>{"use strict";t.d(r,{b:()=>c});var n=t(12115);function a(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}t(47650);var s=t(95155),i=Symbol("radix.slottable");function l(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=function(e){let r=function(e){let r=n.forwardRef((e,r)=>{let{children:t,...s}=e;if(n.isValidElement(t)){let e,i;let l=(e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?t.props.ref:t.props.ref||t.ref,o=function(e,r){let t={...r};for(let n in r){let a=e[n],s=r[n];/^on[A-Z]/.test(n)?a&&s?t[n]=(...e)=>{let r=s(...e);return a(...e),r}:a&&(t[n]=a):"style"===n?t[n]={...a,...s}:"className"===n&&(t[n]=[a,s].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==n.Fragment&&(o.ref=r?function(...e){return r=>{let t=!1,n=e.map(e=>{let n=a(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():a(e[r],null)}}}}(r,l):l),n.cloneElement(t,o)}return n.Children.count(t)>1?n.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=n.forwardRef((e,t)=>{let{children:a,...i}=e,o=n.Children.toArray(a),d=o.find(l);if(d){let e=d.props.children,a=o.map(r=>r!==d?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(r,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null})}return(0,s.jsx)(r,{...i,ref:t,children:a})});return t.displayName=`${e}.Slot`,t}(`Primitive.${r}`),i=n.forwardRef((e,n)=>{let{asChild:a,...i}=e,l=a?t:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(l,{...i,ref:n})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),d=n.forwardRef((e,r)=>(0,s.jsx)(o.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));d.displayName="Label";var c=d},12317:(e,r,t)=>{"use strict";t.d(r,{DX:()=>i});var n=t(12115),a=t(88068),s=t(95155),i=n.forwardRef((e,r)=>{let{children:t,...a}=e,i=n.Children.toArray(t),o=i.find(d);if(o){let e=o.props.children,t=i.map(r=>r!==o?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(l,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,t):null})}return(0,s.jsx)(l,{...a,ref:r,children:t})});i.displayName="Slot";var l=n.forwardRef((e,r)=>{let{children:t,...s}=e;if(n.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t);return n.cloneElement(t,{...function(e,r){let t={...r};for(let n in r){let a=e[n],s=r[n];/^on[A-Z]/.test(n)?a&&s?t[n]=(...e)=>{s(...e),a(...e)}:a&&(t[n]=a):"style"===n?t[n]={...a,...s}:"className"===n&&(t[n]=[a,s].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props),ref:r?(0,a.t)(r,e):e})}return n.Children.count(t)>1?n.Children.only(null):null});l.displayName="SlotClone";var o=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function d(e){return n.isValidElement(e)&&e.type===o}},31027:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var n=t(43463);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=n.$,i=(e,r)=>t=>{var n;if((null==r?void 0:r.variants)==null)return s(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:l}=r,o=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],n=null==l?void 0:l[e];if(null===r)return null;let s=a(r)||a(n);return i[e][s]}),d=t&&Object.entries(t).reduce((e,r)=>{let[t,n]=r;return void 0===n||(e[t]=n),e},{});return s(e,o,null==r?void 0:null===(n=r.compoundVariants)||void 0===n?void 0:n.reduce((e,r)=>{let{class:t,className:n,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...d}[r]):({...l,...d})[r]===t})?[...e,t,n]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}},e=>{var r=r=>e(e.s=r);e.O(0,[1181,6232,8441,1517,7358],()=>r(57592)),_N_E=e.O()}]);